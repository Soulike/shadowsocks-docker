services:
    ssserver:
        image: 'soulike/shadowsocks-docker:latest'
        ports:
            - '2376:3000'
            - '989:3001'
            - '20:3002'
        volumes:
            - type: bind
              source: /etc/shadowsocks-rust/config.docker.json
              target: /etc/shadowsocks-rust/config.json
            - type: bind
              source: $HOME/ssl
              target: /ssl
        networks:
            - ssserver-network
        sysctls:
            - net.core.default_qdisc = fq
            - net.ipv4.tcp_congestion_control = bbr

networks:
    ssserver-network:
        enable_ipv6: true
        ipam:
            config:
                - subnet: fd32:1816:5c7c::/64
